# GitSearch Backend

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Django –±—ç–∫–µ–Ω–¥ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —É—Ç–µ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö –≤ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Ç–µ—á–∫–∞–º–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏, –æ—Ç—á–µ—Ç–∞–º–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π —Å enterprise-—É—Ä–æ–≤–Ω–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- JWT-—Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–∞ (Admin, Manager, Analyst, Viewer)
- API –∫–ª—é—á–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∫–æ–º–ø–∞–Ω–∏—è–º–∏

### üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ç–µ—á–∫–∞–º–∏
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —É—Ç–µ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–æ–º–ø–∞–Ω–∏—è–º, —É—Ä–æ–≤–Ω—é —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç–∏, —Å—Ç–∞—Ç—É—Å—É
- –°–∏—Å—Ç–µ–º–∞ –æ–¥–æ–±—Ä–µ–Ω–∏—è –∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —É—Ç–µ—á–µ–∫
- –û—Ç–º–µ—Ç–∫–∞ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π

### üí¨ –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —É—Ç–µ—á–∫–∞–º —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏ –ø—É–±–ª–∏—á–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤

### üìà –û—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –®–∞–±–ª–æ–Ω—ã –æ—Ç—á–µ—Ç–æ–≤ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã (cron/interval)
- –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON, CSV, PDF, Excel
- –î–∞—à–±–æ—Ä–¥ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∏ —Ç—Ä–µ–Ω–¥–∞–º–∏
- –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–æ–º–ø–∞–Ω–∏—è–º

### üê≥ Docker –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- MariaDB, Redis, Nginx
- Celery –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus, Grafana)
- –ü–æ–∏—Å–∫ (Elasticsearch, Kibana)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose
- Git

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone <repository-url>
cd gitsearch_backend
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
# –ö–æ–ø–∏—Ä—É–µ–º –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp .env.example .env

# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
nano .env
```

3. **–ó–∞–ø—É—Å–∫ —Å –ø–æ–º–æ—â—å—é Make**
```bash
# –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make dev-setup

# –ò–ª–∏ –ø–æ—à–∞–≥–æ–≤–æ:
make setup    # –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
make build    # –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤
make up       # –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
make migrate  # –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
make createsuperuser  # –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
make status

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
make health

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make logs
```

### –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã:

- **API**: http://localhost:8000/api/
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: http://localhost:8000/admin/
- **Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: http://localhost:8000/swagger/
- **Nginx**: http://localhost/
- **Flower (Celery)**: http://localhost:5555/
- **Grafana**: http://localhost:3001/ (–ø—Ä–æ—Ñ–∏–ª—å monitoring)
- **Kibana**: http://localhost:5601/ (–ø—Ä–æ—Ñ–∏–ª—å search)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
gitsearch_backend/
‚îú‚îÄ‚îÄ authentication/          # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ leaks/                  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ç–µ—á–∫–∞–º–∏
‚îú‚îÄ‚îÄ comments/               # –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
‚îú‚îÄ‚îÄ reports/                # –û—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îú‚îÄ‚îÄ common/                 # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ docker/                 # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ tests/                  # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ unit/              # –Æ–Ω–∏—Ç —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ api/               # API —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ integration/       # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ static/                 # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ media/                  # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ reports/                # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
```

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

#### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **User**: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Django
- **UserProfile**: –ü—Ä–æ—Ñ–∏–ª—å —Å —Ä–æ–ª—å—é, –∫–æ–º–ø–∞–Ω–∏–µ–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- **APIKey**: API –∫–ª—é—á–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

#### –£—Ç–µ—á–∫–∏
- **Company**: –ö–æ–º–ø–∞–Ω–∏–∏ –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —É—Ç–µ—á–µ–∫
- **Leak**: –û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å —É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **LeakStats**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —É—Ç–µ—á–∫–∞–º –∫–æ–º–ø–∞–Ω–∏–∏

#### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- **Comment**: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —É—Ç–µ—á–∫–∞–º
- **CommentAttachment**: –í–ª–æ–∂–µ–Ω–∏—è –∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º

#### –û—Ç—á–µ—Ç—ã
- **ReportTemplate**: –®–∞–±–ª–æ–Ω—ã –æ—Ç—á–µ—Ç–æ–≤
- **Report**: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- **ScheduledReport**: –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- **ReportExecution**: –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤

### API Endpoints

#### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`/api/auth/`)
- `POST /login/` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `POST /logout/` - –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
- `POST /token/refresh/` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `GET/PATCH /profile/` - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /change-password/` - –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è
- `GET/POST /api-keys/` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–∞–º–∏

#### –£—Ç–µ—á–∫–∏ (`/api/leaks/`)
- `GET/POST /companies/` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏—è–º–∏
- `GET/POST /leaks/` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ç–µ—á–∫–∞–º–∏
- `PATCH /leaks/{id}/approve/` - –û–¥–æ–±—Ä–µ–Ω–∏–µ —É—Ç–µ—á–∫–∏
- `PATCH /leaks/{id}/reject/` - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —É—Ç–µ—á–∫–∏
- `GET /stats/` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Ç–µ—á–µ–∫

#### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (`/api/comments/`)
- `GET/POST /comments/` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
- `GET/POST /attachments/` - –í–ª–æ–∂–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

#### –û—Ç—á–µ—Ç—ã (`/api/reports/`)
- `GET/POST /templates/` - –®–∞–±–ª–æ–Ω—ã –æ—Ç—á–µ—Ç–æ–≤
- `GET/POST /reports/` - –û—Ç—á–µ—Ç—ã
- `GET/POST /scheduled/` - –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- `GET /analytics/leaks/` - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —É—Ç–µ—á–µ–∫
- `GET /analytics/companies/` - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–æ–º–ø–∞–Ω–∏–π
- `GET /analytics/dashboard/` - –î–∞–Ω–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥–∞

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–æ–º–∞–Ω–¥—ã Make

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
make dev-setup      # –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make build          # –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
make up             # –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
make down           # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
make restart        # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
make logs           # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
make migrate        # –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
make makemigrations # –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
make shell          # Django shell
make dbshell        # –ö–æ–Ω—Å–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
make backup         # –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –ë–î
make restore        # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make test           # –í—Å–µ —Ç–µ—Å—Ç—ã
make test-unit      # –Æ–Ω–∏—Ç —Ç–µ—Å—Ç—ã
make test-api       # API —Ç–µ—Å—Ç—ã
make coverage       # –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–æ–≤

# –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
make clean          # –û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
make clean-all      # –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
make update         # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
make security       # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç pytest –∏ Django TestCase –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
make test

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ —Ç–µ—Å—Ç–æ–≤
make test-unit
make test-api

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make coverage

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
docker-compose exec web python -m pytest tests/unit/test_authentication.py::UserProfileModelTest::test_create_user_profile
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

- **Unit —Ç–µ—Å—Ç—ã**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π, —É—Ç–∏–ª–∏—Ç, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **API —Ç–µ—Å—Ç—ã**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ REST API endpoints
- **Integration —Ç–µ—Å—Ç—ã**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π

1. **–°–æ–∑–¥–∞–Ω–∏–µ Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
```bash
docker-compose exec web python manage.py startapp new_module
```

2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ INSTALLED_APPS**
```python
# settings.py
INSTALLED_APPS = [
    # ...
    'new_module',
]
```

3. **–°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π**

4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ URL-–æ–≤**
```python
# gitsearch_backend/urls.py
urlpatterns = [
    # ...
    path('api/new-module/', include('new_module.urls')),
]
```

5. **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤**

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:

```bash
# Django
DEBUG=False
SECRET_KEY=your-secret-key
ALLOWED_HOSTS=localhost,your-domain.com

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DB_NAME=gitsearch_db
DB_USER=gitsearch_user
DB_PASSWORD=secure_password
DB_HOST=db
DB_PORT=3306

# Redis
REDIS_PASSWORD=redis_password
REDIS_URL=redis://:password@redis:6379/0

# JWT
JWT_SECRET_KEY=jwt-secret
JWT_ACCESS_TOKEN_LIFETIME=60
JWT_REFRESH_TOKEN_LIFETIME=7

# Email
EMAIL_HOST=smtp.gmail.com
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=app-password
```

### –ü—Ä–æ—Ñ–∏–ª–∏ Docker Compose

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ñ–∏–ª–µ–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:

```bash
# –ë–∞–∑–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
docker-compose up -d

–î–µ–≤-—Å–µ—Ä–≤–µ—Ä React –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ `frontend/` –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞
http://localhost:3000 –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
`REACT_APP_API_URL` –∏ `REACT_APP_WS_URL` –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –±—ç–∫–µ–Ω–¥—É.

# –° –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
make monitoring

# –° –ø–æ–∏—Å–∫–æ–º
make search

# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose --profile frontend --profile monitoring --profile search up -d
```

## –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

1. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
DEBUG=False
SECURE_SSL_REDIRECT=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤**
```bash
# –†–∞–∑–º–µ—â–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
mkdir -p docker/nginx/ssl
cp your-cert.pem docker/nginx/ssl/cert.pem
cp your-key.pem docker/nginx/ssl/key.pem
```

3. **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**
```bash
make prod-deploy
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

- **Health checks**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
- **Prometheus**: –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫
- **Grafana**: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
make backup

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
make restore
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GitSearch

–ë—ç–∫–µ–Ω–¥ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º GitSearch:

1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ MariaDB –±–∞–∑—É
   - –°–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

2. **API –¥–ª—è —Å–∫–∞–Ω–µ—Ä–∞**
   - Endpoints –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —É—Ç–µ—á–µ–∫
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

3. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
   - –ó–∞–º–µ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
   - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- **JWT —Ç–æ–∫–µ–Ω—ã** —Å –∫–æ—Ä–æ—Ç–∫–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏
- **API –∫–ª—é—á–∏** —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
- **–†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å** –¥–æ—Å—Ç—É–ø–∞
- **Rate limiting** –¥–ª—è API
- **CORS** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **Security headers** –≤ Nginx
- **–í–∞–ª–∏–¥–∞—Ü–∏—è** –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **SQL injection** –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ ORM

### –ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
make security

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
make update
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- **Database indexing**: –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **Query optimization**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã ORM
- **Caching**: Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Connection pooling**: –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î
- **Static files**: Nginx –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- **Compression**: Gzip —Å–∂–∞—Ç–∏–µ

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Horizontal scaling**: –ù–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
- **Load balancing**: Nginx load balancer
- **Database replication**: Master-slave —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è
- **Celery workers**: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–∞–ø–∫–µ `logs/`:
- `django.log` - –õ–æ–≥–∏ Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `nginx.log` - –õ–æ–≥–∏ Nginx
- `celery.log` - –õ–æ–≥–∏ Celery

### –û—Ç–ª–∞–¥–∫–∞

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make logs
make logs-web
make logs-db

# Django shell
make shell

# –ö–æ–Ω—Å–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
make dbshell

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
make stats
```

### –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?**
A: –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å Django –∏–ª–∏ API endpoint `/api/auth/users/`

**Q: –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏?**
A: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API –∫–ª—é—á–∏ —á–µ—Ä–µ–∑ `/api/auth/api-keys/`

**Q: –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö?**
A: –°–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ Django: `make makemigrations && make migrate`

**Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –æ—Ç—á–µ—Ç–∞?**
A: –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω –æ—Ç—á–µ—Ç–∞ —á–µ—Ä–µ–∑ API –∏–ª–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

## –õ–∏—Ü–µ–Ω–∑–∏—è

[–£–∫–∞–∂–∏—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏—é –ø—Ä–æ–µ–∫—Ç–∞]

## –ê–≤—Ç–æ—Ä—ã

- **Manus AI** - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

## Changelog

### v1.0.0 (2024-12-19)
- –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Ç–µ—á–∫–∞–º–∏
- –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- –ú–æ–¥—É–ª—å –æ—Ç—á–µ—Ç–æ–≤ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- Docker –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –¢–µ—Å—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#   g i t s e a r c h _ b a c k e n d _ p u b l i c  
 